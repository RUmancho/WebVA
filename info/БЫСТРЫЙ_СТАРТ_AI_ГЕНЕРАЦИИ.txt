═══════════════════════════════════════════════════════════════════════════
БЫСТРЫЙ СТАРТ: AI-ГЕНЕРАЦИЯ ЗАДАНИЙ
═══════════════════════════════════════════════════════════════════════════

AI-генерация уже настроена и работает для ВСЕХ предметов! 🎉

═══════════════════════════════════════════════════════════════════════════

ШАГ 1: УСТАНОВКА ЗАВИСИМОСТЕЙ
───────────────────────────────────────────────────────────────────────────

Установите необходимые Python пакеты:

    pip install -r info/requirements.txt

Это установит: langchain-ollama, markdown, cffi и другие зависимости.

═══════════════════════════════════════════════════════════════════════════

ШАГ 2: УСТАНОВКА OLLAMA
───────────────────────────────────────────────────────────────────────────

1. Скачайте Ollama: https://ollama.ai/download

2. Установите и запустите:

    ollama serve

3. Скачайте модель (один раз, ~5GB):

    ollama pull deepseek-r1:7b

4. Проверьте работу:

    ollama run deepseek-r1:7b

   Введите "Привет" - модель должна ответить.
   Нажмите Ctrl+D для выхода.

═══════════════════════════════════════════════════════════════════════════

ШАГ 3: ПРОВЕРКА РАБОТЫ
───────────────────────────────────────────────────────────────────────────

Запустите тестовый скрипт:

    python test_ai_generation.py

Ожидайте 2-5 минут. Система проверит генерацию для 10 предметов.

Результат должен быть: ✅ 10/10 тестов пройдено (100%)

Если есть ошибки - смотрите логи в консоли.

═══════════════════════════════════════════════════════════════════════════

ШАГ 4: ИСПОЛЬЗОВАНИЕ В КОДЕ
───────────────────────────────────────────────────────────────────────────

from testing.generator_manager import generator_manager

# Генерация теста
test = generator_manager.generate_test(
    subject="Физика",
    section="Механика",
    topic="Кинематика",
    difficulty=2,          # 1-легкий, 2-средний, 3-сложный
    num_questions=5,       # от 3 до 20
    with_options=True      # True - с вариантами, False - без
)

# Результат
print(test["questions"])  # Список вопросов
print(test["generator"])  # Тип генератора: "DLL", "AI" или "LOCAL"

═══════════════════════════════════════════════════════════════════════════

ЧТО УЖЕ РАБОТАЕТ:

✅ 11 школьных предметов (160+ тем)
✅ Автоматическая адаптация под каждый предмет
✅ Два типа тестов: с вариантами и без
✅ Три уровня сложности: лёгкий, средний, хардкор
✅ Fallback система (DLL → AI → LOCAL)
✅ Валидация качества вопросов
✅ Локальная работа без интернета

═══════════════════════════════════════════════════════════════════════════

СТРУКТУРА ОТВЕТА:

{
  "questions": [
    {
      "question": "Текст вопроса",
      "options": ["A", "B", "C", "D"],     # Только если with_options=True
      "correct_answer": "правильный ответ"
    }
  ],
  "generator": "AI",                        # или "DLL", "LOCAL"
  "test_type": "with_options"               # или "without_options"
}

═══════════════════════════════════════════════════════════════════════════

КАКИЕ ПРЕДМЕТЫ ИСПОЛЬЗУЮТ AI:

🔢 Алгебра - функции, прогрессии (уравнения через DLL)
📐 Геометрия - ВСЕ темы
⚡ Физика - ВСЕ темы
🧪 Химия - ВСЕ темы
🧬 Биология - ВСЕ темы
🌍 География - ВСЕ темы
🏛️ История - ВСЕ темы
👥 Обществознание - ВСЕ темы
📝 Русский язык - ВСЕ темы
🇬🇧 Английский язык - ВСЕ темы
💻 Информатика - ВСЕ темы

═══════════════════════════════════════════════════════════════════════════

ТИПИЧНЫЕ ПРОБЛЕМЫ:

❌ Ошибка: "Connection refused"
   ✓ Решение: Запустите Ollama: ollama serve

❌ Ошибка: "Model not found"
   ✓ Решение: Скачайте модель: ollama pull deepseek-r1:7b

❌ Ошибка: "JSON decode error"
   ✓ Решение: Это норма, система попробует ещё раз с fallback

❌ Медленная генерация (>30 секунд)
   ✓ Решение: Нормально для слабых ПК. Ускорить можно с GPU.

═══════════════════════════════════════════════════════════════════════════

ДОКУМЕНТАЦИЯ:

📚 Полное руководство: testing/AI_GENERATION_README.txt
📖 Инструкция для пользователей: КАК_РАБОТАЕТ_AI_ГЕНЕРАЦИЯ.txt
📝 История изменений: AI_GENERATION_CHANGELOG.txt
🧪 Тестовый скрипт: test_ai_generation.py

═══════════════════════════════════════════════════════════════════════════

ТРЕБОВАНИЯ:

Минимальные:
- Python 3.8+
- 8GB RAM
- 5GB свободного места (для модели)
- CPU: любой (работает на всех процессорах)

Рекомендуемые:
- Python 3.10+
- 16GB RAM
- GPU с 8GB+ VRAM (для ускорения)

═══════════════════════════════════════════════════════════════════════════

ПРОИЗВОДИТЕЛЬНОСТЬ:

DLL генератор (математика):
  ⚡ < 1 мс на вопрос
  ⚡ ~5 мс на тест из 5 вопросов

AI генератор (все остальное):
  🐌 2-10 секунд на тест из 5 вопросов
  ⚡ С GPU: 1-3 секунды

LOCAL fallback:
  ⚡ < 1 мс (предопределённые вопросы)

═══════════════════════════════════════════════════════════════════════════

ГОТОВО! Система настроена и готова к использованию. 🚀

Запустите тест: python test_ai_generation.py

═══════════════════════════════════════════════════════════════════════════

