# Инструкция по настройке Ollama для использования локальной модели deepseek:7b

## Проблема
Если вы видите сообщение "К сожалению, не удалось сгенерировать объяснение этой темы", это означает, что Ollama сервер не запущен или недоступен.

## Решение

### Шаг 1: Установите Ollama
1. Перейдите на https://ollama.ai
2. Скачайте и установите Ollama для вашей операционной системы
3. Запустите установщик и следуйте инструкциям

### Шаг 2: Запустите Ollama сервер
1. Откройте командную строку (PowerShell или CMD на Windows)
2. Выполните команду:
   ```
   ollama serve
   ```
3. Сервер должен запуститься и слушать на порту 11434
4. **Оставьте это окно открытым** - сервер должен работать постоянно

### Шаг 3: Загрузите модель deepseek:7b
1. Откройте **другое** окно командной строки (не закрывайте первое!)
2. Выполните команду:
   ```
   ollama pull deepseek:7b
   ```
3. Дождитесь завершения загрузки (это может занять несколько минут)

### Шаг 4: Проверьте установку
Выполните команду для проверки установленных моделей:
```
ollama list
```
Вы должны увидеть `deepseek:7b` в списке.

### Шаг 5: Обновите страницу приложения
После того, как Ollama сервер запущен и модель загружена:
1. Вернитесь в приложение WebVA
2. Обновите страницу (F5 или Ctrl+R)
3. Попробуйте сгенерировать объяснение снова

## Альтернативный способ (Windows)
Если вы хотите, чтобы Ollama запускался автоматически при старте системы:
1. Создайте ярлык для `ollama serve`
2. Добавьте его в автозагрузку Windows

## Проверка работы
Чтобы проверить, что Ollama работает правильно, выполните в терминале:
```
ollama run deepseek:7b "Привет, как дела?"
```
Если модель отвечает, значит все настроено правильно.

## Устранение проблем

### Порт 11434 занят
Если порт 11434 уже занят другим приложением:
1. Закройте другие приложения, использующие этот порт
2. Или измените порт в настройках Ollama

### Модель не найдена
Если вы видите ошибку "model not found":
1. Убедитесь, что выполнили `ollama pull deepseek:7b`
2. Проверьте список моделей: `ollama list`

### Сервер не запускается
1. Убедитесь, что Ollama установлен правильно
2. Попробуйте переустановить Ollama
3. Проверьте логи ошибок в консоли

