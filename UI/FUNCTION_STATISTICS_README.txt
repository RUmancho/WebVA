================================================================================
           –ê–ì–†–ï–ì–ò–†–û–í–ê–ù–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê –§–£–ù–ö–¶–ò–ô –í CPU TRACER
================================================================================

–û–ë–ó–û–†:
------
–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ function_statistics –≤ cpu_tracer.db, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç
–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–∞–∂–¥–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞
–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—â—É—é –∫–∞—Ä—Ç–∏–Ω—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ.


–°–¢–†–£–ö–¢–£–†–ê –¢–ê–ë–õ–ò–¶–´ function_statistics:
--------------------------------------

üìä –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
   - folder_name      : –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ (–∏–∑–≤–ª–µ—á–µ–Ω–æ –∏–∑ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É)
   - module_name      : –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è
   - function_name    : –ü–æ–ª–Ω–æ–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏ (folder.module.function)

üìû –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–∑–æ–≤–æ–≤:
   - total_calls      : –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
   - success_count    : –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
   - error_count      : –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

‚è±Ô∏è  –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ CPU –≤—Ä–µ–º–µ–Ω–∏:
   - total_cpu_time_ms: –û–±—â–µ–µ CPU –≤—Ä–µ–º—è (–º—Å)
   - avg_cpu_time_ms  : –°—Ä–µ–¥–Ω–µ–µ CPU –≤—Ä–µ–º—è (–º—Å)
   - min_cpu_time_ms  : –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ CPU –≤—Ä–µ–º—è (–º—Å)
   - max_cpu_time_ms  : –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ CPU –≤—Ä–µ–º—è (–º—Å)

‚è∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:
   - total_wall_time_ms: –û–±—â–µ–µ —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–º—Å)
   - avg_wall_time_ms  : –°—Ä–µ–¥–Ω–µ–µ —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–º—Å)
   - min_wall_time_ms  : –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–º—Å)
   - max_wall_time_ms  : –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–º—Å)

üíª –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞:
   - avg_cpu_percent  : –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CPU
   - max_cpu_percent  : –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CPU

üß† –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏:
   - avg_memory_mb    : –°—Ä–µ–¥–Ω—è—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø–∞–º—è—Ç—å (MB)
   - max_memory_mb    : –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø–∞–º—è—Ç—å (MB)

üìÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏:
   - first_call       : –î–∞—Ç–∞/–≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏
   - last_call        : –î–∞—Ç–∞/–≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏
   - last_updated     : –î–∞—Ç–∞/–≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏


–ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢:
-----------------

1. –¢—Ä–∞—Å—Å–∏—Ä–æ–≤—â–∏–∫ CPUTracer –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞–∂–¥–æ–≥–æ
   –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–∞–±–ª–∏—Ü—É performance_metrics (–∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ).

2. –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ function_statistics —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
   —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤—â–∏–∫–∞.

3. –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å:
   
   tracer.update_function_statistics()
   
   –≠—Ç–æ—Ç –º–µ—Ç–æ–¥:
   - –ß–∏—Ç–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ performance_metrics
   - –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –∏—Ö –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º
   - –í—ã—á–∏—Å–ª—è–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ function_statistics

4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ —á–∞—Å –∏–ª–∏ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é).


–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
--------------

1. –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:
   
   python UI/view_function_statistics.py
   
   –≠—Ç–æ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç:
   - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
   - –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –ø–∞–ø–∫–µ/–º–æ–¥—É–ª—é/–∏–º–µ–Ω–∏
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ä–∞–∑–Ω—ã–º –ø–æ–ª—è–º
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç—ã

2. –ü–†–û–ì–†–ê–ú–ú–ù–û–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:

   from logger.console import CPUTracer
   
   # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
   tracer = CPUTracer(db_path="UI/cpu_tracer.db")
   
   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   tracer.update_function_statistics()
   
   # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
   stats = tracer.get_function_statistics(limit=50)
   
   # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–∞–ø–∫–µ
   stats = tracer.get_function_statistics(folder="database", limit=20)
   
   # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–æ–¥—É–ª—é
   stats = tracer.get_function_statistics(module="auth", limit=20)
   
   # –ü–æ–∏—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏
   stats = tracer.get_function_statistics(function="login", limit=10)
   
   # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ CPU –≤—Ä–µ–º–µ–Ω–∏
   stats = tracer.get_function_statistics(
       order_by='total_cpu_time_ms', 
       limit=30
   )
   
   # –í—ã–≤–æ–¥ –æ—Ç—á–µ—Ç–∞ –≤ –∫–æ–Ω—Å–æ–ª—å
   tracer.print_function_statistics_report(limit=20)
   
   # –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–ª–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –≤ —Ñ–∞–π–ª
   tracer.export_report("my_report.txt")


–î–û–°–¢–£–ü–ù–´–ï –ü–û–õ–Ø –î–õ–Ø –°–û–†–¢–ò–†–û–í–ö–ò (order_by):
------------------------------------------
- total_calls         - –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤—ã–∑–æ–≤–æ–≤
- error_count         - –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—à–∏–±–æ–∫
- success_count       - –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —É—Å–ø–µ—à–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- total_cpu_time_ms   - –ü–æ –æ–±—â–µ–º—É CPU –≤—Ä–µ–º–µ–Ω–∏
- avg_cpu_time_ms     - –ü–æ —Å—Ä–µ–¥–Ω–µ–º—É CPU –≤—Ä–µ–º–µ–Ω–∏
- total_wall_time_ms  - –ü–æ –æ–±—â–µ–º—É —Ä–µ–∞–ª—å–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
- avg_wall_time_ms    - –ü–æ —Å—Ä–µ–¥–Ω–µ–º—É —Ä–µ–∞–ª—å–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
- max_cpu_time_ms     - –ü–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É CPU –≤—Ä–µ–º–µ–Ω–∏
- max_memory_mb       - –ü–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–∞–º—è—Ç–∏


–ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø:
----------------------

üìä –ü–†–ò–ú–ï–† 1: –ù–∞–π—Ç–∏ —Å–∞–º—ã–µ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

   tracer.update_function_statistics()
   stats = tracer.get_function_statistics(
       order_by='total_calls',
       limit=10
   )
   for s in stats:
       print(f"{s['function_name']}: {s['total_calls']} –≤—ã–∑–æ–≤–æ–≤")


‚è±Ô∏è  –ü–†–ò–ú–ï–† 2: –ù–∞–π—Ç–∏ —Å–∞–º—ã–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

   tracer.update_function_statistics()
   stats = tracer.get_function_statistics(
       order_by='avg_cpu_time_ms',
       limit=10
   )
   for s in stats:
       print(f"{s['function_name']}: {s['avg_cpu_time_ms']} –º—Å")


‚ùå –ü–†–ò–ú–ï–† 3: –ù–∞–π—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –æ—à–∏–±–∫–∞–º–∏

   tracer.update_function_statistics()
   stats = tracer.get_function_statistics(
       order_by='error_count',
       limit=20
   )
   stats = [s for s in stats if int(s['error_count']) > 0]
   for s in stats:
       print(f"{s['function_name']}: {s['error_count']} –æ—à–∏–±–æ–∫, "
             f"—É—Å–ø–µ—à–Ω–æ—Å—Ç—å: {s['success_rate']}")


üìÅ –ü–†–ò–ú–ï–† 4: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–∞–ø–∫–∏

   tracer.update_function_statistics()
   stats = tracer.get_function_statistics(
       folder="database",
       order_by='total_calls',
       limit=50
   )
   tracer.print_function_statistics_report(limit=20)


–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:
-------------

‚úÖ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤
‚úÖ –£–¥–æ–±–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–∞–ø–∫–µ, –º–æ–¥—É–ª—é, —Ñ—É–Ω–∫—Ü–∏–∏
‚úÖ –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
‚úÖ –õ–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–º–µ–¥–ª–µ–Ω–Ω—ã–µ, —Å –æ—à–∏–±–∫–∞–º–∏)
‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ (–ø–µ—Ä–≤—ã–π/–ø–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã–∑–æ–≤)
‚úÖ –ì–æ—Ç–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞


–û–¢–õ–ò–ß–ò–ï –û–¢ performance_metrics:
-------------------------------

performance_metrics          | function_statistics
-----------------------------|----------------------------------
–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏         | –û–¥–Ω–∞ –∑–∞–ø–∏—Å—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é
–î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏            | –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
–†–∞—Å—Ç–µ—Ç –±—ã—Å—Ç—Ä–æ                | –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞       | –î–ª—è –æ–±—â–µ–π –∫–∞—Ä—Ç–∏–Ω—ã
–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏    | –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é


–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:
-------------

1. –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ —á–∞—Å)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
3. –ù–∞—Ö–æ–¥–∏—Ç–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –ø–æ avg_cpu_time_ms –∏ total_cpu_time_ms
4. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –≤—ã—Å–æ–∫–∏–º error_count
5. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –æ—Ç—á–µ—Ç—ã –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è


================================================================================
                            –ö–û–ù–ï–¶ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò
================================================================================

