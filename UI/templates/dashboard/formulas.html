<style>
.formula-card {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
    border: 2px solid rgba(102, 126, 234, 0.2);
    border-radius: 15px;
    padding: 25px;
    margin-bottom: 25px;
    transition: all 0.3s ease;
}

.formula-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);
    border-color: rgba(102, 126, 234, 0.5);
}

.formula-title {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 1.4rem;
    font-weight: bold;
    margin-bottom: 15px;
}

.category-btn {
    height: 120px;
    border-radius: 15px;
    font-size: 1.5rem;
    font-weight: bold;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
}

.category-btn:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
}

.calculate-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    padding: 12px 30px;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 10px;
    transition: all 0.3s ease;
}

.calculate-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
}

.result-success {
    background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    font-size: 1.2rem;
    animation: slideIn 0.5s ease;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.result-error {
    background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    animation: shake 0.5s ease;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
}

.info-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 15px;
    margin-bottom: 25px;
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
}
</style>

<div class="card">
    <div class="card-body">
        <h2 class="card-title">
            <span style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –§–æ—Ä–º—É–ª
            </span>
        </h2>
        
        <div class="info-banner">
            <strong>–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:</strong><br>
            1. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–ì–µ–æ–º–µ—Ç—Ä–∏—è, –ê–ª–≥–µ–±—Ä–∞ –∏–ª–∏ –§–∏–∑–∏–∫–∞)<br>
            2. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª<br>
            3. –í–≤–µ–¥–∏—Ç–µ –≤—Å–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è<br>
            4. –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –ø–æ–ª–µ —Å –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω–æ–π<br>
            5. –ù–∞–∂–º–∏—Ç–µ "–í–´–ß–ò–°–õ–ò–¢–¨" - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—è–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
        </div>
        
        <div id="formulas-loading" class="text-center" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
        </div>
        
        <div id="formulas-error" class="alert alert-danger" style="display: none;"></div>
        
        <!-- –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
        <div id="formulas-categories" class="mb-4">
            <h4 class="mb-4">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:</h4>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <button class="btn category-btn w-100" onclick="selectCategory('–ì–µ–æ–º–µ—Ç—Ä–∏—è')">
                        üìê –ì–ï–û–ú–ï–¢–†–ò–Ø
                    </button>
                </div>
                <div class="col-md-4 mb-3">
                    <button class="btn category-btn w-100" onclick="selectCategory('–ê–ª–≥–µ–±—Ä–∞')">
                        üî¢ –ê–õ–ì–ï–ë–†–ê
                    </button>
                </div>
                <div class="col-md-4 mb-3">
                    <button class="btn category-btn w-100" onclick="selectCategory('–§–∏–∑–∏–∫–∞')">
                        ‚ö° –§–ò–ó–ò–ö–ê
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ñ–æ—Ä–º—É–ª—ã -->
        <div id="formulas-subcategories" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h3 id="category-title" style="color: #667eea; font-weight: bold;"></h3>
                <button class="btn btn-outline-secondary" onclick="resetFormulas()" style="border-radius: 10px;">
                    –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
                </button>
            </div>
            
            <div class="mb-4">
                <label for="subcategory-select" class="form-label" style="font-weight: 600; font-size: 1.1rem;">
                    –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:
                </label>
                <select class="form-select" id="subcategory-select" onchange="selectSubcategory(this.value)" 
                        style="height: 50px; border-radius: 10px; border: 2px solid #667eea;">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª --</option>
                </select>
            </div>
            
            <!-- –§–æ—Ä–º—É–ª—ã -->
            <div id="formulas-list"></div>
        </div>
    </div>
</div>

